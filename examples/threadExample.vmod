import thread;

func test() {
    println("hello");

    return 5;
}

func add(num) {
    println(num);
}

func increment() {
    println(x);
    env x {
        println(len(x));
    }
}

decenv multithreaded = {
    let x = [1, 23];
    let increment = increment;
    let returned = null;
}

env thread {
    env multithreaded {
        spawn(increment, 0, add);
    }
}

while true {}